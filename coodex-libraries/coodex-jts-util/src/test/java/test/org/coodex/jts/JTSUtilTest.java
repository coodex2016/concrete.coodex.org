/*
 * Copyright (c) 2016 - 2023 coodex.org (jujus.shen@126.com)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package test.org.coodex.jts;

import org.coodex.jts.CoordSys;
import org.coodex.jts.JTSUtil;
import org.coodex.jts.MetersGeometry;
import org.locationtech.jts.geom.Geometry;
import org.locationtech.jts.geom.Polygon;

import java.util.ArrayList;
import java.util.List;

public class JTSUtilTest {

    public static void main(String[] args) {

        String x = "POLYGON ((13176535.36049306 4468837.981911752, 13176011.032423416 4468837.276253916, 13176011.018904129 4468847.321544202, 13176535.310305024 4468848.02715336, 13176797.823647138 4468852.544094942, 13176214.677003793 4468851.959944992, 13176022.451945607 4468849.723743692, 13176015.368530048 4468850.923375975, 13176011.33283337 4468854.946671543, 13176010.706104012 4468861.58248289, 13176011.994663859 4468863.662929108, 13176027.631765924 4468868.573755041, 13176730.744799022 4468872.420399597, 13176728.18925647 4468874.671811036, 13176722.297582515 4468874.88318179, 13176477.114217423 4468873.206473947, 13176224.146039046 4468874.18469879, 13176016.66995417 4468870.413307455, 13176013.603551148 4468871.582140734, 13176009.98875508 4468875.750928445, 13176011.801489165 4468881.12244295, 13176024.332152523 4468890.563051928, 13176012.53218446 4468891.232212918, 13176007.03549576 4468899.058507811, 13176009.898345068 4468906.358992199, 13176014.342325445 4468909.111016511, 13176538.100529576 4468912.885093038, 13176599.391817236 4468911.208935659, 13176750.10534222 4468914.12580154, 13176270.65785744 4468912.624549037, 13176191.816015474 4468913.742322868, 13176015.551430725 4468911.646392062, 13176011.519474905 4468913.594864011, 13176009.118573017 4468922.956564784, 13176011.253865197 4468928.113367412, 13176014.044558086 4468928.960008943, 13176270.364959719 4468928.400885556, 13176444.491429524 4468931.755561079, 13176743.588403087 4468933.280007011, 13176196.085271949 4468932.613203212, 13176013.211577648 4468930.516767698, 13176009.16385332 4468932.488535759, 13176005.47431619 4468938.650050546, 13176010.400589945 4468948.126727579, 13176016.233763458 4468949.228114045, 13176475.31574856 4468952.626935076, 13176234.18269445 4468954.558137239, 13176145.979996368 4468951.763198942, 13176017.405984508 4468951.204074346, 13176005.931530114 4468954.940999458, 13176004.379148515 4468959.175190769, 13176009.285972387 4468967.644668643, 13176013.48796063 4468969.915877563, 13176133.392363431 4468969.915877563, 13176133.392363431 4468967.513588485, 13176283.20407966 4468966.840787447, 13176755.408741161 4468971.031153309, 13176771.817493333 4468973.232446811, 13176729.849542147 4468973.153752271, 13176660.48446483 4468975.945425776, 13176397.271358801 4468976.224809542, 13176247.068185313 4468972.171320958, 13176010.534614798 4468971.33542086, 13176003.992989143 4468976.720788122, 13176003.218382344 4468981.611514243, 13176011.043144831 4468989.01286167, 13176014.262908116 4468990.184197192, 13176341.60618645 4468990.46372009, 13176540.152823078 4468994.376674569, 13176762.525195444 4468995.763463308, 13176427.398503544 4468994.116986286, 13176357.782039126 4468995.793259292, 13176155.841128709 4468992.300514644, 13176023.840673272 4468992.29976355, 13176008.890020654 4468993.660943955, 13176006.861883342 4468995.447446382, 13176000.50447816 4468986.279240373, 13175992.24948814 4468992.003403447, 13176006.94876875 4469013.201694456, 13176003.818993071 4469014.428676348, 13176002.06975776 4469019.0705019105, 13176010.52460184 4469029.941650362, 13176018.909409177 4469030.450538484, 13176020.725739205 4469033.0699319085, 13176004.167019947 4469033.5972730685, 13176001.103771977 4469037.291730724, 13176000.782650407 4469042.020140739, 13176004.12223513 4469049.428607819, 13176008.906990306 4469052.383005211, 13176036.180265553 4469051.264745384, 13176040.4711862 4469048.483975592, 13176040.314469513 4469046.724387752, 13176135.917356426 4469045.817881901, 13176396.15951684 4469050.5698494585, 13176764.386577297 4469054.323882922, 13176670.555917596 4469057.018477858, 13176282.68925458 4469054.642675635, 13176202.960965766 4469056.039507486, 13176005.918235255 4469053.524321347, 13176000.547142332 4469057.094395738, 13175999.530263636 4469061.744067701, 13176008.520810578 4469071.278369924, 13176687.685250856 4469074.0533328215, 13176772.019269776 4469076.574831967, 13176009.845434824 4469072.674637168, 13176000.62400911 4469076.334107401, 13175997.667391509 4469080.871531569, 13176001.77739887 4469088.897480829, 13176005.98598478 4469091.246635647, 13176075.462525005 4469091.849337844, 13176075.484790908 4469089.2826101, 13176788.18798954 4469095.424145613, 13176004.552651692 4469094.480761827, 13175998.143716142 4469099.324622721, 13175998.028161695 4469102.071893657, 13176005.721676446 4469110.758578429, 13176009.246957032 4469112.214283905, 13176655.53656317 4469113.61204897, 13176787.768546943 4469115.775421189, 13176764.800621487 4469117.125551172, 13176368.2924632 4469117.125551172, 13176002.286455262 4469113.631449786, 13175997.313756445 4469116.922569901, 13175996.476889992 4469121.63718207, 13176004.822063243 4469130.287018818, 13176008.255944557 4469131.644189345, 13176111.128541833 4469131.644189345, 13176111.128541833 4469130.533802089, 13176784.529682416 4469136.355889031, 13176502.537740074 4469138.791674743, 13176319.366888857 4469135.717459596, 13176143.427393015 4469136.275767282, 13176003.32170312 4469134.179694961, 13175996.316958144 4469139.566436954, 13175995.600844007 4469145.008520744, 13176006.832937498 4469151.9127635965, 13176297.558964722 4469150.515120256, 13176749.762385018 4469155.74268324, 13176363.940784449 4469158.361473216, 13176091.817783628 4469154.448289368, 13176009.026692327 4469154.587561131, 13175999.861407684 4469155.4103385825, 13175996.757137885 4469158.578095349, 13175996.019767037 4469163.565232731, 13175998.24615685 4469169.156592605, 13176002.958310666 4469172.321069037, 13176023.342976782 4469172.135583099, 13176023.300167263 4469167.430831531, 13176224.9524634 4469170.923256236, 13176784.65388661 4469176.302904214, 13176782.708707 4469178.020333786, 13176367.29577576 4469174.808784363, 13176104.804668678 4469176.812953846, 13176016.820237482 4469175.141064868, 13175999.591593383 4469176.345971729, 13175994.638887627 4469181.511266589, 13175993.564279277 4469185.894971186, 13175994.591018477 4469187.9747572355, 13176002.795972783 4469192.157378628, 13175999.968800865 4469192.1153255785, 13175999.523943787 4469210.027155205, 13176783.849807533 4469215.865122818, 13176782.80911971 4469217.389721627, 13176256.964743506 4469215.673313429, 13176214.87342354 4469217.768911077, 13176028.561275866 4469216.092826489, 13175999.133927502 4469217.355351515, 13175994.640602294 4469220.628035161, 13175994.461524982 4469223.525814526, 13176003.374268865 4469233.027841822, 13176006.781114496 4469234.385513013, 13176666.349097332 4469238.019921001, 13176707.26497313 4469236.211164717, 13176744.838379983 4469237.98133294, 13176676.683559708 4469239.855405905, 13176448.944791399 4469237.759329499, 13176196.423018645 4469239.017084495, 13176019.4979326 4469235.52397062, 13176000.796258142 4469235.943325369, 13175994.091219123 4469238.909957762, 13175991.51724173 4469244.255928159, 13175993.54517114 4469252.3579022465, 13175997.50713843 4469254.374464361, 13176025.127433185 4469254.716169992, 13176025.197124124 4469249.082954013, 13176764.658138871 4469257.657950315, 13176528.584219623 4469259.425700848, 13176389.600939289 4469257.329748468, 13176241.906740401 4469258.726887787, 13176007.395322759 4469257.329266606, 13175998.597410304 4469258.045611623, 13175994.389881449 4469261.095441405, 13175996.046314662 4469273.6641379455, 13176000.16185016 4469275.7618970005, 13176217.979042977 4469274.364267526, 13176771.818105573 4469278.540389602, 13176386.134990644 4469282.767595007, 13176368.525181903 4469280.673847502, 13176198.751343312 4469282.527164006, 13176161.37927954 4469277.89302003, 13176125.94594914 4469282.238242741, 13176004.301501341 4469280.953183363, 13175991.766645495 4469283.14771634, 13175988.437345568 4469291.874311354, 13175989.152448904 4469296.320456593, 13175993.143391054 4469298.406557597, 13176076.299050674 4469299.80441516, 13176124.179858765 4469295.201000337, 13176178.959436033 4469297.188198169, 13176179.108860025 4469293.069099861, 13176185.360237842 4469292.912183336, 13176200.4972143 4469293.072091451, 13176217.394431083 4469296.225247157, 13176219.950237311 4469296.037125462, 13176222.98820145 4469292.805702739, 13176368.328928703 4469290.723411898, 13176385.893272517 4469292.815666314, 13176689.633486347 4469290.298655871, 13176772.6017317 4469288.574082313, 13176780.616735032 4469287.455797441, 13176789.008325579 4469282.063735317, 13176790.65524942 4469280.002141063, 13176790.028971959 4469274.948778346, 13176783.354342196 4469269.081011887, 13176725.613140028 4469268.145994067, 13176783.342326783 4469266.17549223, 13176787.758436814 4469254.224502893, 13176787.868718687 4469251.940537662, 13176785.206937138 4469248.370396657, 13176752.125681005 4469247.466254992, 13176785.843809513 4469246.3778450405, 13176792.400371501 4469236.679564719, 13176789.529334517 4469231.951543007, 13176781.848289661 4469228.317137113, 13176727.95499701 4469227.693554031, 13176785.56282319 4469227.395798651, 13176789.637114912 4469225.205270273, 13176795.184712268 4469215.376848059, 13176788.87399028 4469206.431661261, 13176774.721927434 4469205.582257352, 13176785.188211607 4469205.19259368, 13176794.135227816 4469193.4444195, 13176792.263832781 4469188.7884499645, 13176786.606745562 4469187.2981912885, 13176796.607942473 4469178.224931378, 13176795.519221045 4469173.251301921, 13176789.953246512 4469167.240587843, 13176786.310395276 4469165.630663222, 13176753.663796995 4469165.354223704, 13176777.875404475 4469165.164549239, 13176794.23936961 4469157.756000849, 13176797.169342736 4469153.641727246, 13176796.72314999 4469151.06436612, 13176793.03781099 4469147.663000608, 13176783.217904903 4469146.574934731, 13176792.198370997 4469144.4114440335, 13176798.4392274 4469136.825882783, 13176797.65346603 4469132.441332486, 13176793.048065681 4469127.062815381, 13176781.326963343 4469126.212142678, 13176791.242341682 4469126.189123002, 13176795.73348411 4469122.996394603, 13176798.666993374 4469112.660663031, 13176792.169223363 4469106.523147626, 13176787.911399364 4469105.50467751, 13176795.067778122 4469104.4520751685, 13176799.944192868 4469095.047251385, 13176798.597079137 4469089.450670326, 13176787.984383533 4469085.367614831, 13176793.348928766 4469084.940486842, 13176797.522003973 4469082.0069046505, 13176796.976406215 4469076.935129356, 13176774.969358245 4469066.917456291, 13176741.200748082 4469065.1999604, 13176765.917811593 4469064.546551075, 13176778.34578678 4469055.7911632685, 13176778.813824397 4469053.3541001445, 13176775.608943975 4469047.076503834, 13176768.846366767 4469044.545667764, 13176779.887147628 4469036.287989941, 13176780.233450955 4469033.760237234, 13176777.308953172 4469029.784628049, 13176769.372429853 4469026.686178118, 13176390.27483509 4469023.907576845, 13176771.02207491 4469025.54340258, 13176773.473258425 4469020.975501726, 13176772.916660968 4469009.792942073, 13176769.814851156 4469005.522047606, 13176771.597951261 4469004.982013927, 13176773.694267904 4468999.729525866, 13176771.245239107 4468988.686770383, 13176768.535814434 4468985.256150149, 13176694.777880851 4468984.618811978, 13176772.860384364 4468983.614222558, 13176786.73754633 4468974.204650854, 13176786.798548438 4468968.879308424, 13176784.528913332 4468965.279519428, 13176751.634034954 4468960.951843682, 13176756.150528565 4468956.182063304, 13176754.645117875 4468951.0701808, 13176745.754104007 4468944.77547899, 13176579.838671612 4468943.355096687, 13176735.163103484 4468943.63700015, 13176747.892944165 4468942.495621261, 13176758.415990192 4468934.354221472, 13176757.279914543 4468928.878461213, 13176751.52023464 4468924.255979573, 13176754.286353024 4468924.2622591015, 13176762.428479195 4468913.4455754245, 13176760.169743355 4468908.681023903, 13176754.052253878 4468904.712223806, 13176759.274800159 4468903.456172963, 13176760.93243633 4468901.190628445, 13176763.826743089 4468893.223143977, 13176763.06746161 4468888.420619433, 13176753.577534374 4468884.1094314335, 13176729.662604533 4468883.930402053, 13176733.483044691 4468883.39563988, 13176747.286661541 4468871.234765471, 13176748.954711977 4468866.87922506, 13176746.480672415 4468863.172027732, 13176800.797870483 4468862.556441297, 13176804.685652252 4468860.34297266, 13176808.523888767 4468853.52912001, 13176804.769679677 4468844.445249562, 13176798.370463058 4468842.175935994, 13176535.36049306 4468837.981911752))";

//        x = "POLYGON ((13177439.350508912 4469288.052371427, 13177448.18625661 4469276.2675595125, 13177454.292578528 4468876.85273696, 13177453.726552995 4469097.886910019, 13177449.504213098 4469255.508243214, 13177452.004320202 4469287.356373655, 13177456.560043951 4469289.5870116735, 13177459.038493592 4469288.713893069, 13177469.423027454 4469281.014814695, 13177470.875460962 4469288.99394867, 13177475.847167578 4469290.906620172, 13177486.108568568 4469282.379915511, 13177487.704636512 4469278.786228446, 13177488.563183174 4469224.419860312, 13177480.421581032 4469224.291280195, 13177493.252714757 4468875.6987161795, 13177494.801498475 4468888.487661785, 13177488.235289596 4469285.276835035, 13177491.288912581 4469290.390062079, 13177494.816424608 4469291.837339051, 13177501.23441904 4469291.335766254, 13177503.949595781 4469287.904210862, 13177505.403403549 4469280.932737116, 13177515.498954924 4468888.085282603, 13177515.397300666 4468992.370931939, 13177509.944106894 4469281.206693016, 13177511.42104595 4469284.642303774, 13177516.976433888 4469289.171499912, 13177521.90800858 4469287.679252733, 13177528.55860633 4469278.522903327, 13177528.755584244 4469268.170667294, 13177529.849297728 4469286.448937816, 13177534.660455618 4469291.463766976, 13177537.172672573 4469291.799981563, 13177544.872517917 4469286.952604987, 13177546.925543815 4469283.030674477, 13177547.834969053 4469247.955669005, 13177539.165180907 4469247.730862063, 13177539.35393572 4469238.317890204, 13177543.664121563 4469238.441603627, 13177553.858280145 4468883.257702381, 13177556.098948661 4468885.46376919, 13177549.290462138 4469283.4337590495, 13177553.971982628 4469288.582882457, 13177558.696060417 4469289.8729945775, 13177566.15177444 4469283.773576921, 13177567.742969712 4469280.205443404, 13177575.59004715 4468888.764772171, 13177576.065992469 4468945.300653789, 13177572.50750409 4469147.074426494, 13177570.611748723 4469172.210569172, 13177570.834387703 4469229.1028409, 13177573.322523354 4469233.419633711, 13177578.304671051 4469233.4692349, 13177588.098913062 4469227.323187814, 13177589.212787963 4469220.815279224, 13177595.042200033 4468889.085976485, 13177588.33755636 4469280.567743466, 13177598.381412769 4469280.739767889, 13177598.75796865 4469258.752806825, 13177607.236486085 4469258.981690625, 13177609.73396358 4469166.4667761, 13177604.516501008 4469166.325928103, 13177611.821532035 4469002.158567002, 13177614.733925527 4468885.984426039, 13177612.02280273 4469012.090034422, 13177610.026916426 4469282.906173654, 13177614.478853814 4469289.3946617795, 13177618.725272693 4469290.966534194, 13177622.510998474 4469288.482298344, 13177628.412243452 4469276.982543541, 13177635.42350838 4468897.712395885, 13177637.102222873 4468883.569313964, 13177638.561475635 4468885.29386566, 13177638.961580737 4468901.621845527, 13177638.517098846 4468993.851966367, 13177636.183166904 4469050.372235223, 13177637.845449867 4469094.621003307, 13177631.50636385 4469281.332185825, 13177633.410072254 4469287.72465141, 13177638.510413203 4469289.11400928, 13177649.103866221 4469284.951636222, 13177650.149625279 4469279.591063757, 13177652.670556583 4469289.568732478, 13177657.081271982 4469291.39123693, 13177668.796511523 4469283.43050705, 13177669.378674097 4469242.232386327, 13177662.470173538 4469242.232386327, 13177674.490623137 4468881.911973783, 13177676.249892032 4468890.6771918535, 13177671.356246917 4469279.342604077, 13177675.859739954 4469288.285863635, 13177679.689726533 4469290.696669852, 13177683.904239532 4469289.047906375, 13177690.195258142 4469280.144986902, 13177691.6420666 4469099.446956606, 13177697.255240126 4468886.277543693, 13177691.616648601 4469247.4538401365, 13177693.49752799 4469251.454177649, 13177703.668925427 4469254.253793247, 13177706.581613459 4469254.03480131, 13177709.786585627 4469249.455380772, 13177717.439513745 4468890.829289973, 13177710.87500877 4469273.02923778, 13177713.194648938 4469288.543349632, 13177722.514759367 4469291.306602959, 13177725.994778879 4469288.560686209, 13177729.82476022 4469279.469045434, 13177730.66719707 4469212.521822914, 13177724.110634647 4469212.439312234, 13177735.911121538 4468885.775813125, 13177731.46875962 4469280.741332952, 13177734.194084363 4469287.599944601, 13177738.795865117 4469290.438870033, 13177747.831896577 4469285.413489483, 13177750.08444069 4469281.316318011, 13177755.12190178 4469010.056396283, 13177752.672312727 4469287.116554502, 13177756.810079815 4469289.73301647, 13177759.28905962 4469289.231174857, 13177767.304062957 4469285.317178068, 13177770.121908378 4469280.899125657, 13177777.538857715 4468890.5703800665, 13177774.772578226 4469068.515090398, 13177777.04041531 4469072.811878282, 13177788.654993655 4469074.318786808, 13177791.28514258 4469073.800275, 13177794.054878956 4469069.438150838, 13177798.660693657 4468888.499618849, 13177797.147541275 4469130.855637206, 13177792.362513905 4469286.240510724, 13177794.55399118 4469290.545584579, 13177796.8983424 4469291.394562508, 13177810.711444099 4469285.235034591, 13177809.949308265 4468974.242189111, 13177808.5488764 4468974.2493879115, 13177809.307087516 4468886.659392672, 13177807.469442625 4468882.732098988, 13177799.050877914 4468877.125141299, 13177789.2983398 4468883.235164788, 13177787.235578194 4468942.575930669, 13177787.79517906 4468886.58539013, 13177775.913645515 4468877.084618756, 13177771.502172068 4468878.300826341, 13177767.850517565 4468886.543543176, 13177765.092227409 4469016.845433196, 13177766.448960088 4468895.0586873805, 13177760.115433922 4468876.596324917, 13177755.157227429 4468875.562772746, 13177749.299627982 4468881.209560643, 13177748.058239482 4468884.338197359, 13177744.474534295 4469042.381418647, 13177746.411376223 4468886.398717786, 13177742.239313193 4468874.481544086, 13177738.230637923 4468872.940930095, 13177728.473582331 4468874.257044937, 13177726.030149648 4468881.044658454, 13177721.266703798 4468879.390664751, 13177710.913991159 4468882.186268984, 13177707.376371056 4468886.441777891, 13177706.249362992 4468879.724257341, 13177703.88142002 4468877.967558707, 13177695.198499734 4468874.8923953185, 13177689.934427924 4468876.111432393, 13177686.942167237 4468886.908897791, 13177685.743975235 4468934.521143754, 13177686.298838874 4468890.453220664, 13177684.923117816 4468879.2715972345, 13177683.146759924 4468876.040122716, 13177677.246826913 4468871.147818647, 13177672.646644315 4468870.188863351, 13177666.209918639 4468875.594935655, 13177664.67672297 4468878.972318073, 13177656.422039649 4468870.928521243, 13177651.652279086 4468871.876476699, 13177647.643226145 4468880.8659560485, 13177639.803752683 4468871.210663447, 13177637.79725922 4468869.776727009, 13177633.05229973 4468870.366410644, 13177626.168761337 4468883.9454204, 13177620.715957323 4469149.818065608, 13177622.067238098 4469012.230455562, 13177625.405718144 4468886.049858602, 13177619.032385318 4468872.65886782, 13177614.531651456 4468869.991909074, 13177607.472749202 4468873.555974796, 13177605.1366045 4468877.411023832, 13177604.709766718 4468885.013808694, 13177596.630620224 4468871.888623081, 13177593.847240655 4468871.425276851, 13177587.691042595 4468875.471149528, 13177585.580603763 4468882.216247298, 13177584.752124287 4468876.483344579, 13177572.953612434 4468870.174771164, 13177568.183744866 4468870.47656619, 13177566.478674993 4468872.256830472, 13177565.691881096 4468881.323192812, 13177552.753409386 4468868.92868879, 13177548.069696661 4468869.967106623, 13177545.533725156 4468875.024185088, 13177535.719935246 4468866.940738746, 13177528.639831357 4468870.332675784, 13177526.084825512 4468880.509809745, 13177525.522881297 4468910.041905497, 13177525.117130864 4468876.180534794, 13177514.413712304 4468866.789600797, 13177509.882737737 4468867.874217367, 13177505.7141074 4468877.820507105, 13177503.710206902 4468955.796901089, 13177504.288117215 4468873.841667586, 13177502.37005697 4468870.084513118, 13177492.646034325 4468863.446910277, 13177485.38560405 4468866.773542058, 13177483.649006432 4468872.564354579, 13177473.563412292 4468866.238020012, 13177469.011988131 4468868.334821138, 13177465.304546619 4468900.490159222, 13177464.487138035 4468940.036625089, 13177464.773396077 4468876.854056107, 13177461.359239098 4468867.8580059055, 13177457.146432703 4468864.835688136, 13177449.75844717 4468864.716769889, 13177446.778323308 4468867.747059311, 13177444.232012752 4468877.772819194, 13177438.189237123 4468867.439260845, 13177433.756179929 4468866.727561241, 13177426.612115411 4468869.716246792, 13177424.761164507 4468875.608808527, 13177420.555677695 4469042.722684486, 13177410.103028871 4469288.823951945, 13177420.139305182 4469289.250251228, 13177430.593839496 4469043.104581533, 13177434.607208358 4468881.055321746, 13177430.572097791 4469284.662349762, 13177432.712282917 4469288.831275149, 13177434.963963652 4469289.700823005, 13177439.350508912 4469288.052371427))";

//        String wkt = "MULTIPOLYGON(((123.0527551435935 46.62946637572733,123.05212584872538 46.63034454000973,123.0510680294711 46.63188756353276,123.05180624401716 46.6307938171833,123.05179317842706 46.630789658765536,123.05202046691504 46.63045474497301,123.0528622008058 46.629306111441934,123.05310911859524 46.62893315222465,123.05305910299792 46.62891753819994,123.05281287932831 46.62928948454518,123.05197120379441 46.63043803844221,123.05022288147694 46.633018377176654,123.05027196634819 46.63303532924712,123.05029701693813 46.63300112369629,123.05031815720774 46.63300870447867,123.05028616572939 46.633054943996626,123.05033579144109 46.633071134692614,123.05184519315976 46.63088944792804,123.05033316915139 46.63307995044204,123.05038280079495 46.63309613239818,123.05041874994821 46.633044137545824,123.05043334660998 46.633048831520284,123.05217550026583 46.63050321089827,123.05304754522719 46.629286404139464,123.05303023311681 46.629280553255654,123.05326144062931 46.62895276463689,123.05321199478783 46.628936317062596,123.05240053523102 46.630086735279434,123.05286936883755 46.629409056003425,123.05281974312581 46.62939286530735,123.05276628299013 46.6294701401155,123.0527551435935 46.62946637572733)),((123.05313730781513 46.62890662349409,123.05285116492772 46.62932877306946,123.05290097442234 46.629344694746266,123.05318711730973 46.628922545170866,123.05313730781513 46.62890662349409)),((123.0509390849456 46.63271655693484,123.05074311268939 46.632996840893924,123.05079264129569 46.63301317114309,123.05108329943647 46.6325974655536,123.05110361846259 46.63260412430748,123.0508441632248 46.63297893888026,123.05089378394877 46.63299513651265,123.05100265657167 46.63283785734018,123.0510188579397 46.63284311838399,123.05253750631546 46.630637684872994,123.05361947359408 46.629113829835546,123.05357008970648 46.62909729450976,123.05349849117113 46.62919813602812,123.05347512920048 46.62919051000824,123.0535444024926 46.62909068939507,123.0534948852004 46.62907434332445,123.05300485553258 46.62976196281187,123.0534863403349 46.629065568651214,123.05344575128144 46.62905233419713,123.0534573597982 46.62903573946852,123.05340783638282 46.62901940222005,123.053321260047 46.629143165589255,123.0532993820306 46.62913596971606,123.0533813472621 46.62901758209165,123.05333172895605 46.6290013812139,123.05305465594104 46.629387330211614,123.0533214389914 46.629010761315385,123.05327198994341 46.62899431821657,123.05305587572099 46.62930080991407,123.0530468398135 46.62929784178695,123.05041313154078 46.63307887762164,123.05046269476033 46.633095158213024,123.05050127900128 46.633043563239596,123.05046915962045 46.633089932165916,123.05051877420259 46.633106138899336,123.05073683927887 46.632791332779675,123.05054812512579 46.63306386490717,123.05059767620747 46.63308016269599,123.05082223622477 46.63275820497381,123.05083333502009 46.63276182089669,123.05064415973499 46.63303493268813,123.05069377502555 46.633051138713796,123.05092802636123 46.63271295117616,123.0509390849456 46.63271655693484)))";
        String wkt = JTSUtil.mercator2LngLat(JTSUtil.wktToGeometry(x)).toText();
        MetersGeometry metersGeometry = JTSUtil.buildMeterGeometry(JTSUtil.wktToGeometry(wkt), CoordSys.CoordType.LNG_LAT);
        System.out.println(metersGeometry.getArea() / 2000 * 3);
        List<Geometry> geometries = new ArrayList<>();
//        geometries.add(metersGeometry.toLngLat());
//        JTSUtil.MetersGeometry meter1 = metersGeometry.copy();
//        geometries.add(meter1.move(30, 60).toLngLat());
        geometries.add(metersGeometry.copy().xMove(800).toLngLat());
        double width = 8;
        double halfWidth = width / 2;
        //最小 0.4，半幅宽，最大2
        double bufferWidth = Math.min(Math.max(0.6, halfWidth), 2.5);
        MetersGeometry geometry = metersGeometry.copy().buffer(bufferWidth - 0.1).buffer(-bufferWidth).buffer(0.1);
        //.buffer(bufferWidth - 0.1).buffer(-bufferWidth).buffer(0.1)
        System.out.println(geometry.getArea() / 2000 * 3);
        Geometry lngLat = geometry.toLngLat();
        geometries.add(lngLat);

        System.out.println(JTSUtil.areaOf(lngLat) / 2000 * 3);
        System.out.println(JTSUtil.areaOf(
                JTSUtil.GEOMETRY_FACTORY.createPolygon(((Polygon) lngLat).getExteriorRing())
        ) / 2000 * 3);

        System.out.println(JTSUtil.GEOMETRY_FACTORY.createGeometryCollection(geometries.toArray(new Geometry[0])));
    }
}
